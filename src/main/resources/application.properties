# ===================================================
# 1. CORREÇÃO DO PROBLEMA DE PORTA (Render)
# ===================================================
# Diz ao Spring para usar a porta definida pelo Render.
# Se a variável PORT não existir (ex: rodando local), usa 8080.
server.port=${PORT:8080}


# ===================================================
# 2. CORREÇÃO DO PROBLEMA DO BANCO DE DADOS (JDBC)
# ===================================================
# NÃO USE spring.datasource.url

# Em vez disso, use as variáveis individuais.
# O Spring Boot vai construir a URL de conexão de forma segura.
#
# IMPORTANTE: Verifique no painel do seu *banco de dados* no Render
# se os nomes das variáveis são exatamente estes.
# Às vezes o Render usa "PGHOST", "PGUSER", "PGPASSWORD", etc.
# Use o nome exato que o Render mostrar.
spring.datasource.host=${POSTGRES_HOST}
spring.datasource.port=${POSTGRES_PORT}
spring.datasource.database=${POSTGRES_DATABASE}
spring.datasource.username=${POSTGRES_USER}
spring.datasource.password=${POSTGRES_PASSWORD}

# Informa ao Spring qual driver usar
spring.datasource.driver-class-name=org.postgresql.Driver

# ===================================================
# Configurações do JPA (Você já deve ter)
# ===================================================
spring.jpa.hibernate.ddl-auto=update
spring.jpa.database-platform=org.hibernate.dialect.PostgreSQLDialect
